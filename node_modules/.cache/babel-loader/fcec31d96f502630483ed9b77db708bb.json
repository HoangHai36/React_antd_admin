{"ast":null,"code":"import * as actionTypes from \"./types\";\nconst INITIAL_KEY_STATE = {\n  result: null,\n  current: null,\n  isLoading: false,\n  isSuccess: false\n};\nconst INITIAL_STATE = {\n  current: {\n    result: null\n  },\n  list: {\n    result: {\n      items: [],\n      pagination: {\n        current: 1,\n        pageSize: 10,\n        total: 1\n      }\n    },\n    isLoading: false,\n    isSuccess: false\n  },\n  create: INITIAL_KEY_STATE,\n  update: INITIAL_KEY_STATE,\n  delete: INITIAL_KEY_STATE,\n  read: INITIAL_KEY_STATE,\n  search: { ...INITIAL_KEY_STATE,\n    result: []\n  }\n};\n\nconst crudReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    payload,\n    keyState\n  } = action;\n\n  switch (action.type) {\n    case actionTypes.RESET_STATE:\n      return INITIAL_STATE;\n\n    case actionTypes.CURRENT_ITEM:\n      return { ...state,\n        current: {\n          result: payload\n        }\n      };\n\n    case actionTypes.REQUEST_LOADING:\n      return { ...state,\n        [keyState]: { ...state[keyState],\n          isLoading: true\n        }\n      };\n\n    case actionTypes.REQUEST_FAILED:\n      return { ...state,\n        [keyState]: { ...state[keyState],\n          isLoading: false,\n          isSuccess: false\n        }\n      };\n\n    case actionTypes.REQUEST_SUCCESS:\n      return { ...state,\n        [keyState]: { ...state[keyState],\n          result: payload,\n          isLoading: false,\n          isSuccess: true\n        }\n      };\n\n    case actionTypes.CURRENT_ACTION:\n      return { ...state,\n        [keyState]: { ...INITIAL_KEY_STATE,\n          current: payload\n        }\n      };\n\n    case actionTypes.RESET_ACTION:\n      return { ...state,\n        [keyState]: { ...INITIAL_STATE[keyState]\n        }\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default crudReducer;","map":{"version":3,"names":["actionTypes","INITIAL_KEY_STATE","result","current","isLoading","isSuccess","INITIAL_STATE","list","items","pagination","pageSize","total","create","update","delete","read","search","crudReducer","state","action","payload","keyState","type","RESET_STATE","CURRENT_ITEM","REQUEST_LOADING","REQUEST_FAILED","REQUEST_SUCCESS","CURRENT_ACTION","RESET_ACTION"],"sources":["D:/mock-reactjs/frontend-new/src/redux/crud/reducer.js"],"sourcesContent":["import * as actionTypes from \"./types\";\r\n\r\nconst INITIAL_KEY_STATE = {\r\n  result: null,\r\n  current: null,\r\n  isLoading: false,\r\n  isSuccess: false,\r\n};\r\n\r\nconst INITIAL_STATE = {\r\n  current: {\r\n    result: null,\r\n  },\r\n  list: {\r\n    result: {\r\n      items: [],\r\n      pagination: {\r\n        current: 1,\r\n        pageSize: 10,\r\n        total: 1,\r\n      },\r\n    },\r\n    isLoading: false,\r\n    isSuccess: false,\r\n  },\r\n  create: INITIAL_KEY_STATE,\r\n  update: INITIAL_KEY_STATE,\r\n  delete: INITIAL_KEY_STATE,\r\n  read: INITIAL_KEY_STATE,\r\n  search: { ...INITIAL_KEY_STATE, result: [] },\r\n};\r\n\r\nconst crudReducer = (state = INITIAL_STATE, action) => {\r\n  const { payload, keyState } = action;\r\n  switch (action.type) {\r\n    case actionTypes.RESET_STATE:\r\n      return INITIAL_STATE;\r\n    case actionTypes.CURRENT_ITEM:\r\n      return {\r\n        ...state,\r\n        current: {\r\n          result: payload,\r\n        },\r\n      };\r\n    case actionTypes.REQUEST_LOADING:\r\n      return {\r\n        ...state,\r\n        [keyState]: {\r\n          ...state[keyState],\r\n          isLoading: true,\r\n        },\r\n      };\r\n    case actionTypes.REQUEST_FAILED:\r\n      return {\r\n        ...state,\r\n        [keyState]: {\r\n          ...state[keyState],\r\n          isLoading: false,\r\n          isSuccess: false,\r\n        },\r\n      };\r\n    case actionTypes.REQUEST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [keyState]: {\r\n          ...state[keyState],\r\n          result: payload,\r\n          isLoading: false,\r\n          isSuccess: true,\r\n        },\r\n      };\r\n    case actionTypes.CURRENT_ACTION:\r\n      return {\r\n        ...state,\r\n        [keyState]: {\r\n          ...INITIAL_KEY_STATE,\r\n          current: payload,\r\n        },\r\n      };\r\n    case actionTypes.RESET_ACTION:\r\n      return {\r\n        ...state,\r\n        [keyState]: {\r\n          ...INITIAL_STATE[keyState],\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default crudReducer;\r\n"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,SAA7B;AAEA,MAAMC,iBAAiB,GAAG;EACxBC,MAAM,EAAE,IADgB;EAExBC,OAAO,EAAE,IAFe;EAGxBC,SAAS,EAAE,KAHa;EAIxBC,SAAS,EAAE;AAJa,CAA1B;AAOA,MAAMC,aAAa,GAAG;EACpBH,OAAO,EAAE;IACPD,MAAM,EAAE;EADD,CADW;EAIpBK,IAAI,EAAE;IACJL,MAAM,EAAE;MACNM,KAAK,EAAE,EADD;MAENC,UAAU,EAAE;QACVN,OAAO,EAAE,CADC;QAEVO,QAAQ,EAAE,EAFA;QAGVC,KAAK,EAAE;MAHG;IAFN,CADJ;IASJP,SAAS,EAAE,KATP;IAUJC,SAAS,EAAE;EAVP,CAJc;EAgBpBO,MAAM,EAAEX,iBAhBY;EAiBpBY,MAAM,EAAEZ,iBAjBY;EAkBpBa,MAAM,EAAEb,iBAlBY;EAmBpBc,IAAI,EAAEd,iBAnBc;EAoBpBe,MAAM,EAAE,EAAE,GAAGf,iBAAL;IAAwBC,MAAM,EAAE;EAAhC;AApBY,CAAtB;;AAuBA,MAAMe,WAAW,GAAG,YAAmC;EAAA,IAAlCC,KAAkC,uEAA1BZ,aAA0B;EAAA,IAAXa,MAAW;EACrD,MAAM;IAAEC,OAAF;IAAWC;EAAX,IAAwBF,MAA9B;;EACA,QAAQA,MAAM,CAACG,IAAf;IACE,KAAKtB,WAAW,CAACuB,WAAjB;MACE,OAAOjB,aAAP;;IACF,KAAKN,WAAW,CAACwB,YAAjB;MACE,OAAO,EACL,GAAGN,KADE;QAELf,OAAO,EAAE;UACPD,MAAM,EAAEkB;QADD;MAFJ,CAAP;;IAMF,KAAKpB,WAAW,CAACyB,eAAjB;MACE,OAAO,EACL,GAAGP,KADE;QAEL,CAACG,QAAD,GAAY,EACV,GAAGH,KAAK,CAACG,QAAD,CADE;UAEVjB,SAAS,EAAE;QAFD;MAFP,CAAP;;IAOF,KAAKJ,WAAW,CAAC0B,cAAjB;MACE,OAAO,EACL,GAAGR,KADE;QAEL,CAACG,QAAD,GAAY,EACV,GAAGH,KAAK,CAACG,QAAD,CADE;UAEVjB,SAAS,EAAE,KAFD;UAGVC,SAAS,EAAE;QAHD;MAFP,CAAP;;IAQF,KAAKL,WAAW,CAAC2B,eAAjB;MACE,OAAO,EACL,GAAGT,KADE;QAEL,CAACG,QAAD,GAAY,EACV,GAAGH,KAAK,CAACG,QAAD,CADE;UAEVnB,MAAM,EAAEkB,OAFE;UAGVhB,SAAS,EAAE,KAHD;UAIVC,SAAS,EAAE;QAJD;MAFP,CAAP;;IASF,KAAKL,WAAW,CAAC4B,cAAjB;MACE,OAAO,EACL,GAAGV,KADE;QAEL,CAACG,QAAD,GAAY,EACV,GAAGpB,iBADO;UAEVE,OAAO,EAAEiB;QAFC;MAFP,CAAP;;IAOF,KAAKpB,WAAW,CAAC6B,YAAjB;MACE,OAAO,EACL,GAAGX,KADE;QAEL,CAACG,QAAD,GAAY,EACV,GAAGf,aAAa,CAACe,QAAD;QADN;MAFP,CAAP;;IAMF;MACE,OAAOH,KAAP;EArDJ;AAuDD,CAzDD;;AA2DA,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}