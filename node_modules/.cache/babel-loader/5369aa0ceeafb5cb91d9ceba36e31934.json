{"ast":null,"code":"import { parse } from \"querystring\";\n\nfunction getPageQuery() {\n  parse(window.location.href.split(\"?\")[1]);\n}\n/* \r\n To get nested object properties.\r\n admin = {\r\n    location: {\r\n        lat: 50,\r\n        long: 9\r\n    }\r\n }\r\n\r\n get(admin, 'location.lat')     // 50\r\n get(admin, 'location.foo.bar') // undefined\r\n*/\n\n\nexport function get(obj, key) {\n  return key.split(\".\").reduce(function (o, x) {\n    return o === undefined || o === null ? o : o[x];\n  }, obj); // key.split('.').reduce(function(o, x) {\n  //     return (o === undefined || o === null) ? o : o[x];\n  //   }, obj);\n}\n\nObject.byString = function (o, s) {\n  s = s.replace(/\\[(\\w+)\\]/g, \".$1\"); // convert indexes to properties\n\n  s = s.replace(/^\\./, \"\"); // strip a leading dot\n\n  let a = s.split(\".\");\n\n  for (let i = 0, n = a.length; i < n; ++i) {\n    let k = a[i];\n\n    if (o !== null) {\n      if (k in o) {\n        o = o[k];\n      } else {\n        return;\n      }\n    } else {\n      return;\n    }\n  }\n\n  return o;\n};\n/* \r\n To check only if a property exists, without getting its value. It similer get function.\r\n*/\n\n\nexport function has(obj, key) {\n  return key.split(\".\").every(function (x) {\n    if (typeof obj !== \"object\" || obj === null || x in obj === false) /// !x in obj or  x in obj === true *** if you find any bug\n      return false;\n    obj = obj[x];\n    return true;\n  });\n}\n/* \r\n convert indexes to properties\r\n*/\n\nexport function valueByString(obj, string, devider) {\n  if (devider === undefined) {\n    devider = \"|\";\n  }\n\n  return string.split(devider).map(function (key) {\n    return get(obj, key);\n  }).join(\" \");\n}\n/*\r\n Submit multi-part form using ajax.\r\n*/\n\nexport function toFormData(form) {\n  let formData = new FormData();\n  const elements = form.querySelectorAll(\"input, select, textarea\");\n\n  for (let i = 0; i < elements.length; ++i) {\n    const element = elements[i];\n    const name = element.name;\n\n    if (name && element.dataset.disabled !== \"true\") {\n      if (element.type === \"file\") {\n        const file = element.files[0];\n        formData.append(name, file);\n      } else {\n        const value = element.value;\n\n        if (value && value.trim()) {\n          formData.append(name, value);\n        }\n      }\n    }\n  }\n\n  return formData;\n}\n/*\r\n Format Date to display admin\r\n*/\n\nexport function formatDate(param) {\n  const date = new Date(param);\n  let day = date.getDate().toString();\n  let month = (date.getMonth() + 1).toString();\n  const year = date.getFullYear();\n  if (month.length < 2) month = `0${month}`;\n  if (day.length < 2) day = `0${day}`;\n  const fullDate = `${day}/${month}/${year}`;\n  return fullDate;\n}\n/*\r\n Format Datetime to display admin\r\n*/\n\nexport function formatDatetime(param) {\n  let time = new Date(param).toLocaleTimeString();\n  return formatDate(param) + \" \" + time;\n}\n/*\r\n Set object value in html\r\n*/\n\nexport function bindValue(obj, parentElement) {\n  parentElement.querySelectorAll(\"[data-property]\").forEach(element => {\n    const type = element.dataset.type;\n    let value = valueByString(obj, element.dataset.property);\n\n    switch (type) {\n      case \"date\":\n        value = formatDate(value);\n        break;\n\n      case \"datetime\":\n        value = formatDatetime(value);\n        break;\n\n      case \"currency\":\n        value = value.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n        break;\n\n      default:\n        break;\n    }\n\n    element.innerHTML = value;\n  });\n}\nexport default getPageQuery;","map":{"version":3,"names":["parse","getPageQuery","window","location","href","split","get","obj","key","reduce","o","x","undefined","Object","byString","s","replace","a","i","n","length","k","has","every","valueByString","string","devider","map","join","toFormData","form","formData","FormData","elements","querySelectorAll","element","name","dataset","disabled","type","file","files","append","value","trim","formatDate","param","date","Date","day","getDate","toString","month","getMonth","year","getFullYear","fullDate","formatDatetime","time","toLocaleTimeString","bindValue","parentElement","forEach","property","toFixed","innerHTML"],"sources":["D:/mock-reactjs/frontend-new/src/utils/helpers.js"],"sourcesContent":["import { parse } from \"querystring\";\r\nfunction getPageQuery() {\r\n  parse(window.location.href.split(\"?\")[1]);\r\n}\r\n\r\n/* \r\n To get nested object properties.\r\n admin = {\r\n    location: {\r\n        lat: 50,\r\n        long: 9\r\n    }\r\n }\r\n\r\n get(admin, 'location.lat')     // 50\r\n get(admin, 'location.foo.bar') // undefined\r\n*/\r\n\r\nexport function get(obj, key) {\r\n  return key.split(\".\").reduce(function (o, x) {\r\n    return o === undefined || o === null ? o : o[x];\r\n  }, obj);\r\n\r\n  // key.split('.').reduce(function(o, x) {\r\n  //     return (o === undefined || o === null) ? o : o[x];\r\n  //   }, obj);\r\n}\r\n\r\nObject.byString = function (o, s) {\r\n  s = s.replace(/\\[(\\w+)\\]/g, \".$1\"); // convert indexes to properties\r\n  s = s.replace(/^\\./, \"\"); // strip a leading dot\r\n  let a = s.split(\".\");\r\n  for (let i = 0, n = a.length; i < n; ++i) {\r\n    let k = a[i];\r\n    if (o !== null) {\r\n      if (k in o) {\r\n        o = o[k];\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n  return o;\r\n};\r\n\r\n/* \r\n To check only if a property exists, without getting its value. It similer get function.\r\n*/\r\nexport function has(obj, key) {\r\n  return key.split(\".\").every(function (x) {\r\n    if (typeof obj !== \"object\" || obj === null || x in obj === false)\r\n      /// !x in obj or  x in obj === true *** if you find any bug\r\n      return false;\r\n    obj = obj[x];\r\n    return true;\r\n  });\r\n}\r\n\r\n/* \r\n convert indexes to properties\r\n*/\r\nexport function valueByString(obj, string, devider) {\r\n  if (devider === undefined) {\r\n    devider = \"|\";\r\n  }\r\n  return string\r\n    .split(devider)\r\n    .map(function (key) {\r\n      return get(obj, key);\r\n    })\r\n    .join(\" \");\r\n}\r\n\r\n/*\r\n Submit multi-part form using ajax.\r\n*/\r\nexport function toFormData(form) {\r\n  let formData = new FormData();\r\n  const elements = form.querySelectorAll(\"input, select, textarea\");\r\n  for (let i = 0; i < elements.length; ++i) {\r\n    const element = elements[i];\r\n    const name = element.name;\r\n\r\n    if (name && element.dataset.disabled !== \"true\") {\r\n      if (element.type === \"file\") {\r\n        const file = element.files[0];\r\n        formData.append(name, file);\r\n      } else {\r\n        const value = element.value;\r\n        if (value && value.trim()) {\r\n          formData.append(name, value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return formData;\r\n}\r\n\r\n/*\r\n Format Date to display admin\r\n*/\r\nexport function formatDate(param) {\r\n  const date = new Date(param);\r\n  let day = date.getDate().toString();\r\n  let month = (date.getMonth() + 1).toString();\r\n  const year = date.getFullYear();\r\n  if (month.length < 2) month = `0${month}`;\r\n  if (day.length < 2) day = `0${day}`;\r\n  const fullDate = `${day}/${month}/${year}`;\r\n  return fullDate;\r\n}\r\n\r\n/*\r\n Format Datetime to display admin\r\n*/\r\nexport function formatDatetime(param) {\r\n  let time = new Date(param).toLocaleTimeString();\r\n  return formatDate(param) + \" \" + time;\r\n}\r\n\r\n/*\r\n Set object value in html\r\n*/\r\nexport function bindValue(obj, parentElement) {\r\n  parentElement.querySelectorAll(\"[data-property]\").forEach((element) => {\r\n    const type = element.dataset.type;\r\n    let value = valueByString(obj, element.dataset.property);\r\n    switch (type) {\r\n      case \"date\":\r\n        value = formatDate(value);\r\n        break;\r\n\r\n      case \"datetime\":\r\n        value = formatDatetime(value);\r\n        break;\r\n\r\n      case \"currency\":\r\n        value = value.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    element.innerHTML = value;\r\n  });\r\n}\r\n\r\nexport default getPageQuery;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}