{"version":3,"sources":["redux/auth/actions.js","pages/Logout.jsx"],"names":["login","loginAdminData","dispatch","type","actionTypes","payload","loading","authService","data","success","authValue","current","isLoggedIn","storePersist","set","history","push","register","logout","Logout","useDispatch","useEffect","logoutAction","asyncLogout"],"mappings":"yQAKaA,EAAQ,SAACC,GAAD,wDAAoB,WAAOC,GAAP,0FACvCA,EAAS,CACPC,KAAMC,IACNC,QAAS,CAAEC,SAAS,KAHiB,SAKpBC,IAAkBN,GALE,QAOlB,KAFfO,EALiC,QAO9BC,SACDC,EAAY,CAChBC,QAASH,EAAKA,KACdF,SAAS,EACTM,YAAY,GAEdC,IAAaC,IAAI,OAAQJ,GACzBR,EAAS,CACPC,KAAMC,IACNC,QAASG,EAAKA,OAEhBO,IAAQC,KAAK,MAEbd,EAAS,CACPC,KAAMC,IACNC,QAASG,IAtB0B,2CAApB,uDA2BRS,EAAW,SAAChB,GAAD,wDAAoB,WAAOC,GAAP,0FAC1CA,EAAS,CACPC,KAAMC,IACNC,QAAS,CAAEC,SAAS,KAHoB,SAKvBC,IAAqBN,GALE,QAOrB,KAFfO,EALoC,QAOjCC,SACDC,EAAY,CAChBC,QAASH,EAAKA,KACdF,SAAS,EACTM,YAAY,GAEdC,IAAaC,IAAI,OAAQJ,GACzBR,EAAS,CACPC,KAAMC,IACNC,QAASG,EAAKA,OAEhBO,IAAQC,KAAK,MAEbd,EAAS,CACPC,KAAMC,IACNC,QAASG,IAtB6B,2CAApB,uDA2BXU,EAAS,mEAAM,WAAOhB,GAAP,2EAC1BK,MACAL,EAAS,CACPC,KAAMC,MAERW,IAAQC,KAAK,UALa,2CAAN,sD,6FCnCPG,UAnBA,WACb,IAAMjB,EAAWkB,cAgBjB,OAPAC,qBAAU,WAAM,sDACd,wGACQnB,EAASoB,eADjB,4CADc,uBAAC,WAAD,wBAIdC,EACD,GAAE,IAEI,4BACR,C","file":"static/js/18.60867eeb.chunk.js","sourcesContent":["import * as actionTypes from \"./types\";\r\nimport * as authService from \"@/auth\";\r\nimport storePersist from \"@/redux/storePersist\";\r\nimport history from \"@/utils/history\";\r\n\r\nexport const login = (loginAdminData) => async (dispatch) => {\r\n  dispatch({\r\n    type: actionTypes.LOADING_REQUEST,\r\n    payload: { loading: true },\r\n  });\r\n  const data = await authService.login(loginAdminData);\r\n\r\n  if (data.success === true) {\r\n    const authValue = {\r\n      current: data.data,\r\n      loading: false,\r\n      isLoggedIn: true,\r\n    };\r\n    storePersist.set(\"auth\", authValue);\r\n    dispatch({\r\n      type: actionTypes.LOGIN_SUCCESS,\r\n      payload: data.data,\r\n    });\r\n    history.push(\"/\");\r\n  } else {\r\n    dispatch({\r\n      type: actionTypes.FAILED_REQUEST,\r\n      payload: data,\r\n    });\r\n  }\r\n};\r\n\r\nexport const register = (loginAdminData) => async (dispatch) => {\r\n  dispatch({\r\n    type: actionTypes.LOADING_REQUEST,\r\n    payload: { loading: true },\r\n  });\r\n  const data = await authService.register(loginAdminData);\r\n\r\n  if (data.success === true) {\r\n    const authValue = {\r\n      current: data.data,\r\n      loading: false,\r\n      isLoggedIn: true,\r\n    };\r\n    storePersist.set(\"auth\", authValue);\r\n    dispatch({\r\n      type: actionTypes.LOGIN_SUCCESS,\r\n      payload: data.data,\r\n    });\r\n    history.push(\"/\");\r\n  } else {\r\n    dispatch({\r\n      type: actionTypes.FAILED_REQUEST,\r\n      payload: data,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  authService.logout();\r\n  dispatch({\r\n    type: actionTypes.LOGOUT_SUCCESS,\r\n  });\r\n  history.push(\"/login\");\r\n};\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { Button, Result } from \"antd\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logout as logoutAction } from \"@/redux/auth/actions\";\r\n\r\nconst Logout = () => {\r\n  const dispatch = useDispatch();\r\n  // const callbackLogout = useCallback(async () => {\r\n  //   await dispatch(logoutAction());\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   callbackLogout();\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    async function asyncLogout() {\r\n      await dispatch(logoutAction());\r\n    }\r\n    asyncLogout();\r\n  }, []);\r\n\r\n  return <></>;\r\n};\r\nexport default Logout;\r\n"],"sourceRoot":""}